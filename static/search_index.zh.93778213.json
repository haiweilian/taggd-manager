[{"id":6,"title":"Events","routePath":"/taggd-manager/zh/guide/api/events","lang":"zh","toc":[{"text":"Taggd Events","id":"taggd-events","depth":2,"charIndex":368},{"text":"Taggd.Tag Events","id":"taggdtag-events","depth":2,"charIndex":1942}],"domain":"","content":"#\n\n使用 .on() 、.once() 和 .off() 方法可以订阅和退订事件。\n\n * 以上提到的所有方法都可以在 Taggd 和 Tag 实例上使用。\n * 要订阅所有 Tag 的事件，请在 Taggd 实例上订阅该事件。\n\n例子：\n\nconst image = document.getElementById('my-image');\nconst taggd = new Taggd(image);\n\n// 防止添加标签\ntaggd.on('taggd.tag.add', (tag) => {\n  // 有些事件可以通过返回 false 来阻止(见下表)\n  return false;\n});\n\n// 这个标签没有被添加，因为上面的事件处理程序\ntaggd.add(new Taggd.Tag(..., ...));\n\n\n\nTaggd Events#\n\n下表列出了 Taggd 实例的所有可用事件。\n\n所有的 taggd.editor* 事件处理回调接收以下参数：\n\n 1. Taggd instance\n 2. [position] x/y/left/top\n\n所有的 taggd.tag* 事件处理回调接收以下参数：\n\n 1. Taggd instance\n 2. Tag instance\n\nEVENT                       TRIGGERED        IS PREVENTABLE BY RETURNING FALSE\ntaggd.destroy               销毁 Taggd 实例之前    yes\ntaggd.editor.enable         启用编辑器模式之前        yes\ntaggd.editor.disable        禁用编辑器模式之前        yes\ntaggd.editor.load           加载图片之前           no\ntaggd.editor.loaded         加载图片成功           no\ntaggd.editor.loaderror      加载图片失败           no\ntaggd.editor.add            点击图片区域(没有移动触发)   no\ntaggd.editor.zoom           图片缩放             no\ntaggd.editor.movedown       图片移动开始           no\ntaggd.editor.move           图片移动中            no\ntaggd.editor.moveup         图片移动结束(有移动触发)    no\ntaggd.tag.add               添加标记之前           yes\ntaggd.tag.added             添加标记后            no\ntaggd.tag.delete            删除标记之前           yes\ntaggd.tag.deleted           删除标记后            no\ntaggd.tag.show              显示标记之前           yes\ntaggd.tag.shown             显示标记之后           no\ntaggd.tag.hide              隐藏标记之前           yes\ntaggd.tag.hidden            隐藏标记之后           no\ntaggd.tag.change            更改标记之前           yes\ntaggd.tag.changed           更改标记后            no\ntaggd.tag.click             点击标记后(没有移动触发)    no\ntaggd.tag.editor.enable     标记启用编辑器模式之前      yes\ntaggd.tag.editor.disable    标记禁用编辑器模式之前      yes\ntaggd.tag.editor.movedown   标记移动开始           no\ntaggd.tag.editor.move       标记移动中            no\ntaggd.tag.editor.moveup     标记移动结束(有移动触发)    no\n\n\nTaggd.Tag Events#\n\n下表列出了一个 Tag 实例的所有可用事件。\n\n所有的 taggd.tag* 事件处理回调接收到以下参数：\n\n 1. Tag instance\n\nEVENT                       TRIGGERED       IS PREVENTABLE BY RETURNING FALSE\ntaggd.tag.delete            删除标记之前          yes\ntaggd.tag.deleted           删除标记后           no\ntaggd.tag.show              显示标记之前          yes\ntaggd.tag.shown             显示标记之后          no\ntaggd.tag.hide              隐藏标记之前          yes\ntaggd.tag.hidden            隐藏标记之后          no\ntaggd.tag.change            更改标记之前          yes\ntaggd.tag.changed           更改标记后           no\ntaggd.tag.click             点击标记后(没有移动触发)   no\ntaggd.tag.editor.enable     标记启用编辑器模式之前     yes\ntaggd.tag.editor.disable    标记禁用编辑器模式之前     yes\ntaggd.tag.editor.movedown   标记移动开始          no\ntaggd.tag.editor.move       标记移动中           no\ntaggd.tag.editor.moveup     标记移动结束(有移动触发)   no","frontmatter":{},"version":""},{"id":7,"title":"Options","routePath":"/taggd-manager/zh/guide/api/options","lang":"zh","toc":[],"domain":"","content":"#\n\noptions 参数是选项对象。\n\noptions = {\n  // 显示标签的事件\n  show: 'mouseenter',\n  // 隐藏标记的事件\n  hide: 'mouseleave',\n  // 触发添加标记事件\n  addEvent: 'dblclick',\n  // 缩放比率\n  zoomRatio: 0.1,\n  // 最小缩放比例\n  zoomRatioMin: 0.01,\n  // 最大缩放比例\n  zoomRatioMax: 100,\n  // 如果标签按钮和弹出窗口之间有间隔，并且你使用鼠标移过/鼠标移出来切换可见性，你可能需要保持这个。\n  hideDelay: 500,\n};\n\nnew Taggd(image, options);\n","frontmatter":{},"version":""},{"id":8,"title":"Taggd","routePath":"/taggd-manager/zh/guide/api/taggd","lang":"zh","toc":[{"text":"new Taggd(image, [options], [data])","id":"new-taggdimage-options-data","depth":3,"charIndex":3},{"text":"taggd.on(eventName, handler)","id":"taggdoneventname-handler","depth":3,"charIndex":219},{"text":"taggd.off(eventName, handler)","id":"taggdoffeventname-handler","depth":3,"charIndex":405},{"text":"taggd.once(eventName, handler)","id":"taggdonceeventname-handler","depth":3,"charIndex":592},{"text":"taggd.setOptions(options)","id":"taggdsetoptionsoptions","depth":3,"charIndex":780},{"text":"taggd.addTag(tag)","id":"taggdaddtagtag","depth":3,"charIndex":939},{"text":"taggd.getTag(index) ⇒ Taggd.Tag","id":"taggdgettagindex--taggdtag","depth":3,"charIndex":-1},{"text":"taggd.deleteTag(index)","id":"taggddeletetagindex","depth":3,"charIndex":1240},{"text":"taggd.setTags(tags)","id":"taggdsettagstags","depth":3,"charIndex":1387},{"text":"taggd.addTags(tags)","id":"taggdaddtagstags","depth":3,"charIndex":1526},{"text":"taggd.getTags()","id":"taggdgettags","depth":3,"charIndex":1665},{"text":"taggd.deleteTags()","id":"taggddeletetags","depth":3,"charIndex":1750},{"text":"taggd.map(callback)","id":"taggdmapcallback","depth":3,"charIndex":1834},{"text":"taggd.destroy()","id":"taggddestroy","depth":3,"charIndex":1983},{"text":"taggd.enableEditorMode()","id":"taggdenableeditormode","depth":3,"charIndex":2064},{"text":"taggd.disableEditorMode()","id":"taggddisableeditormode","depth":3,"charIndex":2154}],"domain":"","content":"#\n\n\nnew Taggd(image, [options], [data])#\n\nPARAM       TYPE          DEFAULT   DESCRIPTION\nimage       HTMLElement             图片元素\n[options]   Object        {}        选项配置\n[data]      Array         []        tags 实例\n\n\n\n\ntaggd.on(eventName, handler)#\n\nKind: instance method of Taggd\n\nReturns: Taggd - 当前 Taggd 实例\n\nPARAM       TYPE       DESCRIPTION\neventName   String     事件名称\nhandler     function   事件回调\n\n\ntaggd.off(eventName, handler)#\n\nKind: instance method of Taggd\n\nReturns: Taggd - 当前 Taggd 实例\n\nPARAM       TYPE       DESCRIPTION\neventName   String     事件名称\nhandler     function   事件回调\n\n\ntaggd.once(eventName, handler)#\n\nKind: instance method of Taggd\n\nReturns: Taggd - 当前 Taggd 实例\n\nPARAM       TYPE       DESCRIPTION\neventName   String     事件名称\nhandler     function   事件回调\n\n\ntaggd.setOptions(options)#\n\nKind: instance method of Taggd\n\nReturns: Taggd - 当前 Taggd 实例\n\nPARAM     TYPE     DESCRIPTION\noptions   Object   选项配置(options.md)\n\n\ntaggd.addTag(tag)#\n\nKind: instance method of Taggd\n\nReturns: Taggd - 当前 Taggd 实例\n\nPARAM   TYPE        DESCRIPTION\ntag     Taggd.Tag   tag 实例\n\n\ntaggd.getTag(index) ⇒Taggd.Tag#\n\nKind: instance method of Taggd\n\nReturns: Taggd.Tag - 当前获取到的 tag\n\nPARAM   TYPE     DESCRIPTION\nindex   Number   tag 所在集合的索引\n\n\ntaggd.deleteTag(index)#\n\nKind: instance method of Taggd\n\nReturns: Taggd - 当前 Taggd 实例\n\nPARAM   TYPE     DESCRIPTION\nindex   Number   tag 所在集合的索引\n\n\ntaggd.setTags(tags)#\n\nKind: instance method of Taggd\n\nReturns: Taggd - 当前 Taggd 实例\n\nPARAM   TYPE     DESCRIPTION\ntags    Array.   tag 数组\n\n\ntaggd.addTags(tags)#\n\nKind: instance method of Taggd\n\nReturns: Taggd - 当前 Taggd 实例\n\nPARAM   TYPE     DESCRIPTION\ntags    Array.   tag 数组\n\n\ntaggd.getTags()#\n\nKind: instance method of Taggd\n\nReturns: Array. - 当前实例的所有 tag 集合\n\n\ntaggd.deleteTags()#\n\nKind: instance method of Taggd\n\nReturns: Taggd - 当前 Taggd 实例\n\n\ntaggd.map(callback)#\n\nKind: instance method of Taggd\n\nReturns: Taggd - 当前 Taggd 实例\n\nPARAM      TYPE       DESCRIPTION\ncallback   function   回调处理函数\n\n\ntaggd.destroy()#\n\nKind: instance method of Taggd\n\nReturns: Taggd - 当前 Taggd 实例\n\n\ntaggd.enableEditorMode()#\n\nKind: instance method of Taggd\n\nReturns: Taggd - 当前 Taggd 实例\n\n\ntaggd.disableEditorMode()#\n\nKind: instance method of Taggd\n\nReturns: Taggd - 当前 Taggd 实例","frontmatter":{},"version":""},{"id":9,"title":"Taggd.Tag","routePath":"/taggd-manager/zh/guide/api/taggd.tag","lang":"zh","toc":[{"text":"new Tag(position, text, [buttonAttributes], [popupAttributes])","id":"new-tagposition-text-buttonattributes-popupattributes","depth":3,"charIndex":3},{"text":"tag.on(eventName, handler)","id":"tagoneventname-handler","depth":3,"charIndex":376},{"text":"tag.off(eventName, handler)","id":"tagoffeventname-handler","depth":3,"charIndex":560},{"text":"tag.once(eventName, handler)","id":"tagonceeventname-handler","depth":3,"charIndex":745},{"text":"tag.isHidden()","id":"tagishidden","depth":3,"charIndex":931},{"text":"tag.show()","id":"tagshow","depth":3,"charIndex":1010},{"text":"tag.hide()","id":"taghide","depth":3,"charIndex":1086},{"text":"tag.setText(text)","id":"tagsettexttext","depth":3,"charIndex":1162},{"text":"tag.setPosition(x, y)","id":"tagsetpositionx-y","depth":3,"charIndex":1340},{"text":"tag.setButtonAttributes(atttributes)","id":"tagsetbuttonattributesatttributes","depth":3,"charIndex":1501},{"text":"tag.setPopupAttributes(atttributes)","id":"tagsetpopupattributesatttributes","depth":3,"charIndex":1674},{"text":"tag.enableEditorMode()","id":"tagenableeditormode","depth":3,"charIndex":1846},{"text":"tag.disableEditorMode()","id":"tagdisableeditormode","depth":3,"charIndex":1934},{"text":"tag.toJSON()","id":"tagtojson","depth":3,"charIndex":2023},{"text":"Tag.setElementAttributes(element, [attributes])","id":"tagsetelementattributeselement-attributes","depth":3,"charIndex":2096},{"text":"Tag.getPositionStyle(x, y)","id":"taggetpositionstylex-y","depth":3,"charIndex":2342},{"text":"Tag.createFromObject(object)","id":"tagcreatefromobjectobject","depth":3,"charIndex":2539}],"domain":"","content":"#\n\n\nnew Tag(position, text, [buttonAttributes], [popupAttributes])#\n\nPARAM                TYPE                DEFAULT   DESCRIPTION\nposition             Object                        tag 坐标\ntext                 String | function             tag 内容\n[buttonAttributes]   Object              {}        button 自定义属性\n[popupAttributes]    Object              {}        popup 自定义属性\n\n\ntag.on(eventName, handler)#\n\nKind: instance method of Tag\n\nReturns: Taggd.Tag - 当前 Tag 实例\n\nPARAM       TYPE       DESCRIPTION\neventName   String     事件名称\nhandler     function   事件回调\n\n\ntag.off(eventName, handler)#\n\nKind: instance method of Tag\n\nReturns: Taggd.Tag - 当前 Tag 实例\n\nPARAM       TYPE       DESCRIPTION\neventName   String     事件名称\nhandler     function   事件回调\n\n\ntag.once(eventName, handler)#\n\nKind: instance method of Tag\n\nReturns: Taggd.Tag - 当前 Tag 实例\n\nPARAM       TYPE       DESCRIPTION\neventName   String     事件名称\nhandler     function   事件回调\n\n\ntag.isHidden()#\n\nKind: instance method of Tag\n\nReturns: Boolean - true/false\n\n\ntag.show()#\n\nKind: instance method of Tag\n\nReturns: Taggd.Tag - 当前 Tag 实例\n\n\ntag.hide()#\n\nKind: instance method of Tag\n\nReturns: Taggd.Tag - 当前 Tag 实例\n\n\ntag.setText(text)#\n\nKind: instance method of Tag\n\nReturns: Taggd.Tag - 当前 Tag 实例\n\nPARAM   TYPE                DESCRIPTION\ntext    String | function   tag 内容，如果是一个函数使用当前函数执行的结果\n\n\ntag.setPosition(x, y)#\n\nKind: instance method of Tag\n\nReturns: Taggd.Tag - 当前 Tag 实例\n\nPARAM   TYPE     DESCRIPTION\nx       Number   x 坐标\ny       Number   y 坐标\n\n\ntag.setButtonAttributes(atttributes)#\n\nKind: instance method of Tag\n\nReturns: Taggd.Tag - 当前 Tag 实例\n\nPARAM         TYPE     DESCRIPTION\natttributes   Object   = {} - 属性信息\n\n\ntag.setPopupAttributes(atttributes)#\n\nKind: instance method of Tag\n\nReturns: Taggd.Tag - 当前 Tag 实例\n\nPARAM         TYPE     DESCRIPTION\natttributes   Object   = {} - 属性信息\n\n\ntag.enableEditorMode()#\n\nKind: instance method of Tag\n\nReturns: Taggd.Tag - 当前 Tag 实例\n\n\ntag.disableEditorMode()#\n\nKind: instance method of Tag\n\nReturns: Taggd.Tag - 当前 Tag 实例\n\n\ntag.toJSON()#\n\nKind: instance method of Tag\n\nReturns: Object - JSON 对象\n\n\nTag.setElementAttributes(element, [attributes])#\n\nKind: static method of Tag\n\nReturns: DomNode - The original element\n\nPARAM          TYPE      DEFAULT   DESCRIPTION\nelement        DomNode             元素\n[attributes]   Object    {}        属性对象\n\n\nTag.getPositionStyle(x, y)#\n\nKind: static method of Tag\n\nReturns: Object - The style\n\nPARAM   TYPE     DESCRIPTION\nx       Number   The tag’s x-coordinate\ny       Number   The tag’s y-coordinate\n\n\nTag.createFromObject(object)#\n\nKind: static method of Tag\n\nReturns: Tag - 创建的 Tag 实例\n\nPARAM    TYPE     DESCRIPTION\nobject   Object   new Tag 对象方式的参数","frontmatter":{},"version":""},{"id":10,"title":"介绍","routePath":"/taggd-manager/zh/guide/introduction","lang":"zh","toc":[{"text":"下载","id":"下载","depth":2,"charIndex":117},{"text":"使用","id":"使用","depth":2,"charIndex":189}],"domain":"","content":"#\n\ntaggd-manager 是一个图片标记管理工具，支持缩放、移动和灵活的自定义。\n\n它的原始创意来自 timseverien/taggd，原作者不维护了此项目。故新建了一个项目扩展，增加了缩放、移动的功能和更多的事件回调。\n\n\n下载#\n\n * Download the latest release\n * npm: npm install taggd-manager\n\n\n使用#\n\n您需要引入 css 和 js 文件，两个文件都在 dist 目录中。\n\n样式表只有所需依赖样式，如果要添加主题，请重新覆盖。\n\n\n\n\n\n\n\n如果使用模块导入。\n\n\n\n\n最后，您可以初始化 taggd。\n\nconst image = document.getElementById('my-image');\nconst options = {};\nconst tags = [];\n\nconst taggd = new Taggd(image, options, tags);\n","frontmatter":{},"version":""}]